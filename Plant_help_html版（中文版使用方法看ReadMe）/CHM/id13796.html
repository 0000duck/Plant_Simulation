<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<!--
This software and related documentation are proprietary to Siemens Product Lifecycle Management Software Inc.

(c) 2013 Siemens Product Lifecycle Management Software Inc. All Rights Reserved. 

All trademarks belong to their respective holders.
-->
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>endSim</title>
      
      <meta name="MS-HKWD" content="endSim">
      
      <link type="text/css" href="css/base.css" rel="stylesheet">
   </head>
   <body class="bodydocs" bgcolor="#FFFFFF">
      <div class="title_topic5" id="xps10_pagetitle">endSim</div>
      <hr noshade="true">
      <div class="insideNavLinks"><span><a class="link" href="id27510.html"><img border="0" src="../../../../../../icons/previous.gif" title="Previous Page:autoexecLoadObj"></a><a class="link" href="id67900.html"><img border="0" src="../../../../../../icons/next.gif" title="Next Page:init"></a></span></div>
      <table align="center" class="simpleHTMLminitoc" width="95%">
         <tr>
            <td class="simpleHTMLminitoc"><span class="simpleHTMLminitoc"><a href="xid1484029.html">SimTalk Reference</a></span> &gt; <span class="simpleHTMLminitoc"><a href="id17964.html">General SimTalk Functions</a></span> &gt; <span class="simpleHTMLminitoc"><a href="Names_1.html">Names</a></span> &gt; <span class="simpleHTMLminitoc"><a href="id61611.html">Predefined Names</a></span> &gt; <span class="simpleHTMLminitoc">endSim</span></td>
         </tr>
      </table>
      <div class="contentType_"><span id="ndxgenid_PlantSimulationENU_13502"></span><p class="para_topic"><em>Plant Simulation</em> calls all methods named <em>endSim</em> at the end of a simulation run. The simulation ends, when the <em>EventController</em> has processed all events in the <a class="links" href="id60343.html">List</a> of scheduled events or when <em>Plant Simulation</em> reaches the end time, which you enter into the text box <a class="links" href="id67916.html">End</a> on the in the figure in the <em>EventController</em>.
         </p>
         <p align="center"><img align="bottom" src="../graphics/graphicLibrary/ReferenceHelp/MaterialFlowObjects1/Eventcontroller2.gif"></p>
         <p class="para_topic"> Compare the examples below to get an idea of what you can accomplish in an <em>endSim</em>
            <em>method</em>.
         </p>
         <ul>
            <li>
               
               <p class="para_item">To show the simulated availability at the end of the simulation run in the <em>Console</em> in the model, create an <em>endSim</em>
                  <em>method</em>, and enter the following source code:
               </p>
               <pre class="indent">print EventController.simTime,&quot; Simulated availability in the afternoon: &quot;, round(100 * (1 - MyStation.statFailPortion),2),&quot; %&quot;</pre>
               </li>
         </ul>
         <ul>
            <li>
               
               <p class="para_item">To close a database, create an <em>endSim</em>
                  <em>method</em>, and enter the following source code
               </p>
               <pre class="indent">closeMyDatabase -- is the name of the method that closes the data base
                -- closeMyDatabase can accomplish other functions as well</pre>
               </li>
         </ul>
         <ul>
            <li>
               
               <p class="para_item">To write the default return value of the contents list, namely the <em>array</em>, into a table with the method <a class="links" href="id89472.html">copyToTable</a>, create an <em>endSim</em>
                  <em>method</em>.
               </p>
               
               <p class="para_item">The source code looks like this:</p>
               <pre class="indent">-- Copies the contents lists into the table MyContentsList
-- as an array with the method copyToTable 
var x,y: real, row : integer
var a: any := Buffer.ContentsList
MyContentsList[1,1] := &quot;Buffer&quot;
a.copyToTable(MyContentsList,2,1)
row := MyContentsList.yDim + 2 -- inserts an empty line
MyContentsList[1,row] := &quot;Conveyor&quot;
print a -- prints the contents list as an array to the console
print &quot;Number of items: &quot;,a.yDim
var b := Conveyor.ContentsList -- local variable is of data type any
print b
print &quot;Number of items: &quot;,b.yDim
b.copyToTable(MyContentsList,2,row)
MyContentsList.opendialog
-- Writes the ContentsList into a table
-- as previous versions of the program did
Buffer.ContentsList(ContentsListBuffer)
Conveyor.ContentsList(ContentsListConveyor)</pre>
               </li>
         </ul>
         <p class="para_topic"><b class="uiTerm">Call Sequence of the endSim Methods</b></p>
         <p class="para_topic"><em>Plant Simulation</em> always executes the <em>endSim methods</em> of the objects in the reverse order in which you inserted them. 
         </p>
         <p class="para_topic">Within a <em>Frame</em>
            <em>Plant Simulation</em> always executes the <em>init</em> and the <em>reset methods</em> of the <em>Frame</em> itself after executing the <em>endSim methods</em> of all object which you inserted into it.
         </p>
         <div class="attention attention_note">
            <table border="0">
               <tr>
                  <td valign="top" align="left"><img src="graphics/note.gif" alt="Note" title="Note"></td>
                  <td valign="bottom" align="left" width="100%">
                     
                     <p class="para_note_body">When you <b class="uiTerm">Cut</b> (<b class="uiTerm">Ctrl+X</b>) and <b class="uiTerm">Paste</b> (<b class="uiTerm">Ctrl+V</b>) an object, <em>Plant Simulation</em> cuts this object and inserts it anew thus changing the order in which the objects were inserted into the <em>Frame</em>.
                     </p>
                     
                  </td>
               </tr>
            </table>
         </div>
         <div class="attention attention_note">
            <table border="0">
               <tr>
                  <td valign="top" align="left"><img src="graphics/note.gif" alt="Note" title="Note"></td>
                  <td valign="bottom" align="left" width="100%">
                     
                     <p class="para_note_body">When you bring an object to the foreground or send it to the back in the <em>Frame</em> by clicking <b class="uiTerm">Bring to Front</b> or <b class="uiTerm">Send to Back</b> on the <b class="uiTerm">Icons</b> ribbon tab of the <em>Frame</em>, this changes the order in which the objects were inserted into the <em>Frame</em>.
                     </p>
                     
                  </td>
               </tr>
            </table>
         </div>
         <div class="attention attention_note">
            <table border="0">
               <tr>
                  <td valign="top" align="left"><img src="graphics/note.gif" alt="Note" title="Note"></td>
                  <td valign="bottom" align="left" width="100%">
                     
                     <p class="para_note_body"><em>Plant Simulation</em> treats <em>endSim methods</em>, which you programmed in a <em>Method</em> object, and <em>endSim methods</em>, which you attached to an object as a user-defined attribute or type <em>method</em>, the same.
                     </p>
                     
                  </td>
               </tr>
            </table>
         </div>
         <p class="para_topic"><b class="uiTerm">Related Topic</b></p>
         <p class="para_topic"><a class="links" href="id70099.html">Write the Contents List into a Table for Further Processing</a></p>
      </div>
      <div class="insideNavLinks"><span><a class="link" href="id27510.html"><img border="0" src="../../../../../../icons/previous.gif" title="Previous Page:autoexecLoadObj"></a><a class="link" href="id67900.html"><img border="0" src="../../../../../../icons/next.gif" title="Next Page:init"></a></span></div>
   </body>
</html>