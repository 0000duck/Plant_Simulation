<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<!--
This software and related documentation are proprietary to Siemens Product Lifecycle Management Software Inc.

(c) 2013 Siemens Product Lifecycle Management Software Inc. All Rights Reserved. 

All trademarks belong to their respective holders.
-->
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Create a User-defined Attribute During the Simulation</title>
      
      <meta name="MS-HKWD" content="Create a User-defined Attribute During the Simulation">
      
      <link type="text/css" href="css/base.css" rel="stylesheet">
   </head>
   <body class="bodydocs" bgcolor="#FFFFFF">
      <div class="title_topic5" id="xps10_pagetitle">Create a User-defined Attribute During the Simulation</div>
      <hr noshade="true">
      <div class="insideNavLinks"><span><a class="link" href="id93290.html"><img border="0" src="../../../../../../icons/previous.gif" title="Previous Page:Create a User-defined Attribute Manually"></a><a class="link" href="id57204.html"><img border="0" src="../../../../../../icons/next.gif" title="Next Page:Simulating Free-flowing Materials and Fluids"></a></span></div>
      <table align="center" class="simpleHTMLminitoc" width="95%">
         <tr>
            <td class="simpleHTMLminitoc"><span class="simpleHTMLminitoc"><a href="id13814.html">Step-by-Step Help</a></span> &gt; <span class="simpleHTMLminitoc"><a href="id29319.html">Modeling in 2D</a></span> &gt; <span class="simpleHTMLminitoc"><a href="id26257.html">Modeling the Flow of Materials, Advanced</a></span> &gt; <span class="simpleHTMLminitoc"><a href="id37355.html">Customize the Behavior of Objects</a></span> &gt; <span class="simpleHTMLminitoc">Create a User-defined Attribute During the Simulation</span></td>
         </tr>
      </table>
      <div class="contentType_"><span id="ndxgenid_PlantSimulationENU_716"></span><p class="para_topic">Instead of manually creating a user-defined attribute by entering the required information on the <a class="links" href="id10852.html">Tab User-defined</a>, you can also dynamically create and delete user-defined attributes during the simulation by programming methods.
         </p>
         <p align="center"><img align="bottom" src="../graphics/graphicLibrary/Step-by-Step_Help/Modeling_in_TecnoPlantSim2D/userDefFinished.gif"></p>
         <p class="para_topic">In our example below we demonstrate how to create and delete a user-defined attribute for our part, i.e., a moving object. Depending on a distribution parts with the user-defined attribute (property) <code>Bad</code> are removed from the material flow after the station <em>paint shop</em>, are moved to the <em>rework station</em> to be repainted, and are then fed back into the production line. 
         </p>
         <p class="para_topic">To create the model, proceed as follows:</p>
         <ul>
            <li>
               
               <p class="para_item">Insert the <em>Source</em> which creates the parts. In our example it produces a part of type <em>MyPart</em> every two minutes.
               </p>
               
               <p align="center"><img align="bottom" src="../graphics/graphicLibrary/Step-by-Step_Help/Modeling_in_TecnoPlantSim2D/userDefSource.gif"></p>
               
            </li>
            <li>
               
               <p class="para_item">To visualize the good and the bad parts during the simulation run, create an icon each for the good parts and for the bad parts in the <em>Icon Editor</em>. We named our parts <code>Good</code> and <code>Bad</code> and colored them differently.
               </p>
               
               <table bgcolor="#FFFFFF" cellpadding="2" cellspacing="1" align="center">
                  
                  <colgroup span="1">
                     
                     <col span="1" width="50%">
                     
                     <col span="1" width="50%">
                     
                  </colgroup>
                  
                  <tbody>
                     
                     <tr>
                        
                        <td colspan="1" rowspan="1">
                           
                           <p class="para_td_last"><img align="bottom" src="../graphics/graphicLibrary/Step-by-Step_Help/Modeling_in_TecnoPlantSim2D/userDefIconGood.gif" border="0"></p>
                           
                        </td>
                        
                        <td colspan="1" rowspan="1">
                           
                           <p class="para_td_last"><img align="bottom" src="../graphics/graphicLibrary/Step-by-Step_Help/Modeling_in_TecnoPlantSim2D/userDefIconBad.gif" border="0"></p>
                           
                        </td>
                        
                     </tr>
                     
                  </tbody>
                  
               </table>
               
            </li>
            <li>
               
               <p class="para_item">To dynamically create the user-defined attribute of the part when it reaches <em>Station1</em>, you have to program a method. We named our method <em>createMyAttr</em>. It creates the user-defined attribute <b class="uiTerm">Paint</b>. 
               </p>
               <pre class="indent">@.createAttr(&quot;Paint&quot;,&quot;boolean&quot;)</pre>
               </li>
            <li>
               
               <p class="para_item">Then enter this method as the <b class="uiTerm"> entrance control</b> into <em>Station1</em>.
               </p>
               
               <p align="center"><img align="bottom" src="../graphics/graphicLibrary/Step-by-Step_Help/Modeling_in_TecnoPlantSim2D/userDefStation1Entrance.gif"></p>
               
               <p class="para_item">To make sure that the method works as intended, start the simulation, and double-click the icon of the first part. Click the tab <b class="uiTerm">User-defined</b> and check if it shows the attribute <b class="uiTerm">Paint</b>.
               </p>
               
               <p align="center"><img align="bottom" src="../graphics/graphicLibrary/Step-by-Step_Help/Modeling_in_TecnoPlantSim2D/userDefAttrMUCreated.gif"></p>
               
            </li>
            <li>
               
               <p class="para_item">Then the station <em>PaintShop</em> has to check the paint job of the painted part and decide if it is good or bad. To accomplish this, you have to program a method. 
               </p>
               
               <p class="para_item">We named our method <em>checkPaintJob</em> and entered the following source code:
               </p>
               
               <p class="para_item">The source code looks like this:</p>
               <pre class="indent">var val := z_uniform(1,0,1)
if val  0.1             -- checks the value
   @.Paint := false     -- bad paint job 
   @.CurrIcon := &quot;Bad&quot;  -- switch icon
else
   @.Paint := true      -- good paint job
   @.CurrIcon := &quot;Good&quot; -- don't change icon
end
   print &quot;Value: &quot;,val,&quot;: &quot;,@.CurrIcon -- prints the value and Good or Bad to
                                       -- the Console, depending on the value</pre>
               <p class="para_item">The distribution <code>Z_uniform(1,0,1)</code> creates values between 0 and 1.
               </p>
               
               <p class="para_item">The <em>if statement</em> checks this value. If it is less than 0.1, the attribute <b class="uiTerm">Paint</b> is set to <b class="uiTerm">false</b> and the icon of the part changes to <b class="uiTerm">Bad</b>. If the value is greater than 0.1, the attribute remains <b class="uiTerm">true</b> and the icons is <b class="uiTerm">Good</b>. The <b class="uiTerm">uniform distribution</b> thus creates one <b class="uiTerm">bad</b> part for each ten <b class="uiTerm">good</b> parts.
               </p>
               
               <p class="para_item">We then entered this method as the <b class="uiTerm">entrance control</b> into the <em>PaintShop</em>.
               </p>
               
               <p align="center"><img align="bottom" src="../graphics/graphicLibrary/Step-by-Step_Help/Modeling_in_TecnoPlantSim2D/userDefPaintEntrance.gif"></p>
               
            </li>
            <li>
               
               <p class="para_item">Next, the station <em>BranchOff</em> has to check the user-defined attribute <b class="uiTerm">Paint</b>. To accomplish this, you have to program a method. We named our method <em>checkMyAttr</em> and entered the following source code:
               </p>
               
               <p class="para_item">The source code looks like this:</p>
               <pre class="indent">if @.Paint   -- checks the user-defined attribute
   @.move(1) -- moves the part along on Connector1
else
   @.move(2) -- moves the part along on Connector2
end</pre>
               <p class="para_item">If the value of the attribute <b class="uiTerm">Paint</b> is <b class="uiTerm">true</b>, the part is moved along the <em>Connector</em> with the number <b class="uiTerm">1</b>. If the value is <b class="uiTerm">false</b>, it is moved along the <em>Connector</em> with the number <b class="uiTerm">2</b>.
               </p>
               
               <p class="para_item">If the quality is <b class="uiTerm">good</b>, the part is moved on to <em>Station2</em>, if it is <b class="uiTerm">bad</b>, it is moved to the <em>Rework</em> station, where it is fixed and it is then fed back into the line.
               </p>
               
               <p align="center"><img align="bottom" src="../graphics/graphicLibrary/Step-by-Step_Help/Modeling_in_TecnoPlantSim2D/userDefConnectors.gif"></p>
               
               <p class="para_item">Then, enter this method as the <b class="uiTerm">exit control</b> into the station <em>BranchOff</em>. 
               </p>
               
               <p align="center"><img align="bottom" src="../graphics/graphicLibrary/Step-by-Step_Help/Modeling_in_TecnoPlantSim2D/userDefBranchoffExit.gif"></p>
               
            </li>
            <li>
               
               <p class="para_item">Finally, program the method that deletes the user-defined attribute <b class="uiTerm">Paint</b>, as it is not needed any more. We named our method <em>deleteMyAttr</em> and entered the following source code:
               </p>
               <pre class="indent">@.deleteAttr(&quot;Paint&quot;)</pre>
               </li>
            <li>
               
               <p class="para_item">Then enter this method as the <b class="uiTerm">entrance control</b> into <em>Station2</em>. 
               </p>
               
               <p align="center"><img align="bottom" src="../graphics/graphicLibrary/Step-by-Step_Help/Modeling_in_TecnoPlantSim2D/userDefDeleteAttr.gif"></p>
               
            </li>
         </ul>
         <p class="para_topic">Compare the sample models: Click the <b class="uiTerm">Window</b> ribbon tab, click <b class="uiTerm">Start Page</b>
  &gt; <b class="uiTerm">Getting Started</b> &gt;
   <b class="uiTerm">Example Models</b> and click <b class="uiTerm">Small Examples</b>. Then, select the respective <b class="uiTerm">Category</b>, the <b class="uiTerm">Topic</b>, and the <b class="uiTerm">Example</b> in the dialog <b class="uiTerm">Examples Collection</b> and click <b class="uiTerm">Open Model</b>.
         </p>
         <p class="para_topic"><b class="uiTerm">Compare</b>
            <a class="links" href="id10852.html">Tab User-defined</a></p>
         <p class="para_topic"><b class="uiTerm">Back to</b>
            <a class="links" href="id93290.html">Create a User-defined Attribute Manually</a></p>
         <p class="para_topic"><b class="uiTerm">Back to</b>
            <a class="links" href="id37355.html">Customize the Behavior of Objects</a></p>
      </div>
      <div class="insideNavLinks"><span><a class="link" href="id93290.html"><img border="0" src="../../../../../../icons/previous.gif" title="Previous Page:Create a User-defined Attribute Manually"></a><a class="link" href="id57204.html"><img border="0" src="../../../../../../icons/next.gif" title="Next Page:Simulating Free-flowing Materials and Fluids"></a></span></div>
   </body>
</html>